{"version":3,"file":"extension.js","mappings":"mIAEA,eACA,QAEA,IAAIA,EAAmC,GAMvC,SAASC,IACR,IAAIC,EAA2BC,EAAOC,OAAOC,kBAAkBC,UAAUC,MAAMC,KAC3EC,EAAgCN,EAAOC,OAAOC,kBAAkBC,UAAUC,MAAMG,UAChFC,EAA2BR,EAAOC,OAAOC,kBAAkBC,UAAUM,IAAIJ,KACzEK,EAAgCV,EAAOC,OAAOC,kBAAkBC,UAAUM,IAAIF,UAKlF,OAHAI,QAAQC,IAAI,aAAcb,EAASO,GACnCK,QAAQC,IAAI,WAAYJ,EAASE,GAE1B,CAACX,EAASS,EAASF,EAAcI,GAyIhC,EAAAb,YAAAA,EArITA,EAAYgB,KAEXb,EAAOc,SAASC,gBAAgB,kBAAkB,CAACC,KAAUC,KAC5DjB,EAAOC,OAAOC,kBAAkBgB,MAAMC,IACrC,IAAKpB,EAASS,EAASF,EAAcI,GAAgBZ,IAErDqB,EAAYC,OAAO,IAAIpB,EAAOqB,SAAStB,EAASO,GAAeW,EAAQ,IACvEE,EAAYC,OAAO,IAAIpB,EAAOqB,SAASb,EAASE,GAAeO,EAAQ,WAM1EpB,EAAYgB,KAEXb,EAAOc,SAASC,gBAAgB,mBAAmB,CAACC,EAAOC,KAC1DjB,EAAOC,OAAOC,kBAAkBgB,MAAMC,IACrC,IAAKpB,KAAYuB,GAAQxB,IAEzBqB,EAAYC,OAAO,IAAIpB,EAAOqB,SAAStB,EAAS,GAAIkB,UAMvDpB,EAAYgB,KAEXb,EAAOc,SAASC,gBAAgB,iBAAiB,CAACC,EAAOC,KACxDjB,EAAOC,OAAOC,kBAAkBgB,MAAMC,IACrC,IAAKpB,EAAS,CAAEO,GAAiBR,IAEjCqB,EAAYC,OAAO,IAAIpB,EAAOqB,SAAStB,EAASO,GAAeW,UAMlEpB,EAAYgB,KAEXb,EAAOc,SAASC,gBAAgB,iBAAiB,CAACC,EAAOC,KACxDjB,EAAOC,OAAOC,kBAAkBgB,MAAMC,IACrC,IAAKpB,KAAYuB,GAAQxB,IAEzBqB,EAAYC,OAAO,IAAIpB,EAAOqB,SAAStB,EAAU,EAAG,GAAIkB,UAM3DpB,EAAYgB,KAEXb,EAAOc,SAASC,gBAAgB,aAAa,CAACC,EAAOC,KACpDjB,EAAOC,OAAOsB,eAAe,CAC5BC,gBAAgB,EAChBC,eAAe,EACfC,kBAAkB,IAChBC,MAAKC,IACP,GAAWC,MAAPD,GAAkC,GAAdA,EAAIE,OAAa,CACxC,IAAIC,EAAMH,EAAI,GAAGI,KACjBD,EAAMA,EAAIE,UAAU,EAAGF,EAAID,QAC3B9B,EAAOC,OAAOC,kBAAkBgB,MAAMC,IACrC,IAAKpB,KAAYuB,GAAQxB,IAEzBqB,EAAYC,OAAO,IAAIpB,EAAOqB,SAAStB,EAAU,EAAG,GAAI,YAAcgC,EAAM,gBAQjFlC,EAAYgB,KAEXb,EAAOc,SAASC,gBAAgB,aAAa,CAACC,EAAOC,KACpD,IAAIiB,EAAM,EACNC,EAAM,EACNC,EAAQ,EACZpC,EAAOC,OAAOoC,aAAa,CAC1BC,YAAa,kBACXX,MAAKC,IACP,GAAWC,MAAPD,EAAkB,KAAM,WAG3B,OADAM,EAAMK,MAAMC,OAAOZ,KAAgB,IAAPA,EAAYM,EAAMM,OAAOZ,GAC9C5B,EAAOC,OAAOoC,aAAa,CACjCC,YAAa,qBAGbX,MAAKC,IACP,GAAWC,MAAPD,EAAkB,KAAM,WAG3B,OADAO,EAAMI,MAAMC,OAAOZ,KAAgB,IAAPA,EAAYO,EAAMK,OAAOZ,GAC9C5B,EAAOC,OAAOoC,aAAa,CACjCC,YAAa,YACbG,OAAQ,8BAGRd,MAAKC,IAGP,GAFAQ,EAAQG,MAAMC,OAAOZ,IAAQQ,EAAQI,OAAOZ,GAExCM,GAAO,GAAKC,GAAO,GAAKC,EAAQ,GAAKA,EAAQ,EAAG,KAAM,cAE1D,IAAInB,EAAkB,GAEtBA,GAAW,IACX,IAAK,IAAIyB,EAAI,EAAGA,EAAIP,EAAKO,IACxBzB,GAAW,QAEZA,GAAW,KAEXA,GAAW,IACX,IAAI0B,EAA4B,GAATP,EAAa,OAAkB,GAATA,EAAa,OAAS,OACnE,IAAK,IAAIM,EAAI,EAAGA,EAAIP,EAAKO,IACxBzB,GAAW0B,EAAW,IAEvB1B,GAAW,KAEX,IAAK,IAAIyB,EAAI,EAAGA,EAAIR,EAAM,EAAGQ,IAAK,CACjCzB,GAAW,IACX,IAAK,IAAI2B,EAAI,EAAGA,EAAIT,EAAKS,IACxB3B,GAAW,QAEZA,GAAW,KAGZjB,EAAOC,OAAOC,kBAAkBgB,MAAMC,IACrC,IAAKpB,KAAYuB,GAAQxB,IAEzBqB,EAAYC,OAAO,IAAIpB,EAAOqB,SAAStB,EAAU,EAAG,GAAIkB,aAY5D,gCACC,IAAIpB,EAAmC,GAKvC,OAJAA,EAAYgB,KAAKb,EAAOc,SAASC,gBAAgB,WAAW,CAACC,EAAO6B,KACnE,MAAMC,GAAU,IAAAC,eAAc/C,EAAOgD,WAAWC,OAAQjC,EAAO6B,GAC/DhD,EAAYgB,KAAKiC,OAEXjD,I,YClKR,IAAYqD,E,sGAAZ,SAAYA,GACR,6BACA,2BACA,mBAHJ,CAAYA,EAAA,EAAAA,SAAA,EAAAA,OAAM,KAOL,EAAAC,UAAY,CACrB,WAAY,CACR,CAAC,OAAQD,EAAOE,KAAM,KAAM,IAAK,kBAAmB,MACpD,CAAC,OAAQF,EAAOE,KAAM,KAAM,KAAM,kBAAmB,OACrD,CAAC,OAAQF,EAAOE,KAAM,KAAM,MAAO,kBAAmB,QACtD,CAAC,KAAMF,EAAOE,KAAM,IAAK,QAAS,iBAAkB,KAAM,MAC1D,CAAC,KAAMF,EAAOE,KAAM,IAAK,MAAO,iBAAkB,IAAK,KACvD,CAAC,OAAQF,EAAOE,KAAM,QAAS,MAAO,kBAAmB,OACzD,CAAC,OAAQF,EAAOE,KAAM,OAAQ,KAAM,kBAAmB,MACvD,CAAC,KAAMF,EAAOE,KAAM,OAAQ,SAAU,kBAAmB,UACzD,CAAC,MAAOF,EAAOE,KAAM,OAAQ,SAAU,iBAAkB,IAAK,WAElE,WAAY,CACR,CAAC,KAAMF,EAAOE,KAAM,QAAS,aAAc,YAAa,cACxD,CAAC,KAAMF,EAAOE,KAAM,OAAQ,UAAW,gBAAiB,gBACxD,CAAC,KAAMF,EAAOE,KAAM,MAAO,KAAM,kBAAmB,MACpD,CAAC,OAAQF,EAAOE,KAAM,UAAW,QAAS,iBAAkB,IAAK,SACjE,CAAC,KAAMF,EAAOE,KAAM,OAAQ,SAAU,iBAAkB,KAAM,iBAC9D,CAAC,KAAMF,EAAOE,KAAM,QAAS,QAAS,iBAAkB,gBACxD,CAAC,OAAQF,EAAOE,KAAM,OAAQ,MAAO,gBAAiB,OACtD,CAAC,KAAMF,EAAOE,KAAM,MAAO,QAAS,kBAAmB,aACvD,CAAC,KAAMF,EAAOE,KAAM,QAAS,UAAW,YAAa,iBACrD,CAAC,MAAOF,EAAOE,KAAM,UAAW,KAAM,gBAAiB,gBAE3D,SAAU,CACN,CAAC,SAAUF,EAAOE,KAAM,GAAI,oBAAqB,UAAW,6BAC5D,CAAC,OAAQF,EAAOG,UAAW,GAAI,IAC/B,CAAC,OAAQH,EAAOG,UAAW,GAAI,IAC/B,CAAC,MAAOH,EAAOG,UAAW,GAAI,KAElC,UAAW,CACP,CAAC,SAAUH,EAAOE,KAAM,GAAI,wCAAyC,UAAW,iDAChF,CAAC,KAAMF,EAAOG,UAAW,GAAI,IAC7B,CAAC,KAAMH,EAAOG,UAAW,GAAI,IAC7B,CAAC,KAAMH,EAAOG,UAAW,GAAI,IAC7B,CAAC,KAAMH,EAAOG,UAAW,GAAI,MAKxB,EAAAC,YAAc,CACvB,KAAQ,CACJ,CAAC,KAAMJ,EAAOE,KAAM,MAAO,UAAW,gBAAiB,YACvD,CAAC,KAAMF,EAAOE,KAAM,MAAO,QAAS,gBAAiB,UACrD,CAAC,MAAOF,EAAOE,KAAM,MAAO,OAAQ,gBAAiB,SACrD,CAAC,MAAOF,EAAOE,KAAM,MAAO,OAAQ,gBAAiB,SACrD,CAAC,KAAMF,EAAOE,KAAM,MAAO,QAAS,gBAAiB,UACrD,CAAC,KAAMF,EAAOE,KAAM,MAAO,QAAS,gBAAiB,UACrD,CAAC,OAAQF,EAAOE,KAAM,MAAO,OAAQ,gBAAiB,SACtD,CAAC,OAAQF,EAAOE,KAAM,MAAO,OAAQ,gBAAiB,SACtD,CAAC,KAAMF,EAAOE,KAAM,MAAO,OAAQ,gBAAiB,SACpD,CAAC,KAAMF,EAAOE,KAAM,OAAQ,WAAY,gBAAiB,aACzD,CAAC,KAAMF,EAAOE,KAAM,OAAQ,WAAY,gBAAiB,cAE7D,KAAQ,CACJ,CAAC,IAAKF,EAAOE,KAAM,GAAI,UAAW,gBAAiB,YACnD,CAAC,IAAKF,EAAOE,KAAM,GAAI,SAAU,gBAAiB,WAClD,CAAC,IAAKF,EAAOE,KAAM,GAAI,UAAW,gBAAiB,YACnD,CAAC,IAAKF,EAAOE,KAAM,GAAI,UAAW,gBAAiB,YACnD,CAAC,IAAKF,EAAOE,KAAM,GAAI,YAAa,gBAAiB,cACrD,CAAC,IAAKF,EAAOE,KAAM,GAAI,SAAU,gBAAiB,WAClD,CAAC,IAAKF,EAAOE,KAAM,GAAI,QAAS,gBAAiB,UACjD,CAAC,IAAKF,EAAOE,KAAM,GAAI,UAAW,gBAAiB,YACnD,CAAC,IAAKF,EAAOE,KAAM,GAAI,WAAY,gBAAiB,aACpD,CAAC,IAAKF,EAAOE,KAAM,GAAI,OAAQ,gBAAiB,SAChD,CAAC,IAAKF,EAAOE,KAAM,GAAI,OAAQ,gBAAiB,SAChD,CAAC,IAAKF,EAAOE,KAAM,GAAI,QAAS,gBAAiB,UACjD,CAAC,IAAKF,EAAOE,KAAM,GAAI,UAAW,gBAAiB,YACnD,CAAC,IAAKF,EAAOE,KAAM,GAAI,QAAS,gBAAiB,UACjD,CAAC,IAAKF,EAAOE,KAAM,GAAI,WAAY,gBAAiB,aACpD,CAAC,IAAKF,EAAOE,KAAM,GAAI,QAAS,gBAAiB,UACjD,CAAC,IAAKF,EAAOE,KAAM,GAAI,UAAW,gBAAiB,aAEvD,IAAO,CACH,CAAC,KAAMF,EAAOE,KAAM,MAAO,eAAgB,gBAAiB,eAC5D,CAAC,KAAMF,EAAOE,KAAM,MAAO,eAAgB,gBAAiB,iBAC5D,CAAC,MAAOF,EAAOE,KAAM,MAAO,cAAe,gBAAiB,gBAC5D,CAAC,UAAWF,EAAOE,KAAM,MAAO,gBAAiB,gBAAiB,kBAClE,CAAC,KAAMF,EAAOE,KAAM,MAAO,cAAe,gBAAiB,eAC3D,CAAC,KAAMF,EAAOE,KAAM,MAAO,gBAAiB,gBAAiB,gBAC7D,CAAC,OAAQF,EAAOE,KAAM,MAAO,iBAAkB,gBAAiB,iBAChE,CAAC,KAAMF,EAAOE,KAAM,MAAO,gBAAiB,gBAAiB,gBAC7D,CAAC,KAAMF,EAAOE,KAAM,MAAO,iBAAkB,gBAAiB,iBAC9D,CAAC,KAAMF,EAAOE,KAAM,OAAQ,2CAA4C,gBAAiB,0DACzF,CAAC,MAAOF,EAAOE,KAAM,OAAQ,2CAA4C,gBAAiB,0DAC1F,CAAC,OAAQF,EAAOE,KAAM,OAAQ,uCAAwC,gBAAiB,6CAE3F,GAAM,CACF,CAAC,KAAMF,EAAOE,KAAM,GAAI,UAAW,gBAAiB,YACpD,CAAC,KAAMF,EAAOE,KAAM,GAAI,aAAc,gBAAiB,eACvD,CAAC,KAAMF,EAAOE,KAAM,GAAI,QAAS,gBAAiB,UAClD,CAAC,KAAMF,EAAOE,KAAM,GAAI,WAAY,gBAAiB,aACrD,CAAC,KAAMF,EAAOE,KAAM,GAAI,SAAU,gBAAiB,WACnD,CAAC,KAAMF,EAAOE,KAAM,GAAI,OAAQ,gBAAiB,SACjD,CAAC,KAAMF,EAAOE,KAAM,GAAI,OAAQ,gBAAiB,SACjD,CAAC,KAAMF,EAAOE,KAAM,GAAI,WAAY,gBAAiB,cAEzD,GAAM,CACF,CAAC,IAAKF,EAAOE,KAAM,GAAI,UAAW,gBAAiB,YACnD,CAAC,IAAKF,EAAOE,KAAM,GAAI,UAAW,gBAAiB,YACnD,CAAC,KAAMF,EAAOE,KAAM,GAAI,aAAc,gBAAiB,eACvD,CAAC,KAAMF,EAAOE,KAAM,GAAI,cAAe,gBAAiB,gBACxD,CAAC,IAAKF,EAAOE,KAAM,GAAI,QAAS,gBAAiB,UACjD,CAAC,KAAMF,EAAOE,KAAM,GAAI,QAAS,gBAAiB,UAClD,CAAC,KAAMF,EAAOE,KAAM,GAAI,QAAS,gBAAiB,UAClD,CAAC,KAAMF,EAAOE,KAAM,GAAI,SAAU,gBAAiB,WACnD,CAAC,KAAMF,EAAOE,KAAM,GAAI,QAAS,gBAAiB,WAEtD,GAAM,CACF,CAAC,KAAMF,EAAOE,KAAM,GAAI,UAAW,gBAAiB,YACpD,CAAC,KAAMF,EAAOE,KAAM,GAAI,aAAc,gBAAiB,eACvD,CAAC,KAAMF,EAAOE,KAAM,GAAI,WAAY,gBAAiB,aACrD,CAAC,KAAMF,EAAOE,KAAM,GAAI,WAAY,gBAAiB,aACrD,CAAC,KAAMF,EAAOE,KAAM,GAAI,WAAY,gBAAiB,cAEzD,GAAM,CACF,CAAC,IAAKF,EAAOE,KAAM,GAAI,qBAAsB,gBAAiB,uBAC9D,CAAC,IAAKF,EAAOE,KAAM,GAAI,MAAO,gBAAiB,QAC/C,CAAC,IAAKF,EAAOE,KAAM,GAAI,MAAO,gBAAiB,QAC/C,CAAC,IAAKF,EAAOE,KAAM,GAAI,OAAQ,gBAAiB,SAChD,CAAC,IAAKF,EAAOE,KAAM,GAAI,UAAW,gBAAiB,cAK9C,EAAAG,SAAuCC,OAAOC,KAAK,EAAAN,Y,yFC1IhE,eACA,QACA,SAKA,MAAMO,UAAqB,EAAAC,SAIvBC,YAAYC,EAAkBC,GAY1B,GAXAC,MAAcD,EAAK,IAHhB,KAAAE,SAAkC,GAMrCC,KAAKjD,MAAgB8C,EAAK,GAC1BG,KAAKC,YAAsBJ,EAAK,GAChCG,KAAKE,SAA8B,IAAXL,EAAK,QAAWjC,EAAW,CAC/CuC,MAAO,EAAAC,IAAIC,MAAK,IAAAC,MAAKC,WAAY,KAAM,KAAM,OAAQ,SAAUX,EAAkBC,EAAK,GAAK,eAC3FW,KAAM,EAAAJ,IAAIC,MAAK,IAAAC,MAAKC,WAAY,KAAM,KAAM,OAAQ,SAAUX,EAAkBC,EAAK,GAAK,eAIlFA,EAAK,IAAM,EAAAZ,OAAOE,KAAM,CAGhC,IAAIsB,GACH,CAAE,CAAE,CAAE,CAAE,IAAKA,GAAQZ,EACtBG,KAAKU,iBAAmB,EAAAC,yBAAyBxB,KACjDa,KAAKY,QAAU,CACXC,MAAOb,KAAKjD,MACZ6D,QAAiBf,EAAK,GACtBiB,QAASd,KAAKjD,MACdgE,UAAW,CAACf,KAAKjD,SAAU0D,SAK/BT,KAAKU,iBAA2Bb,EAAK,IAAM,EAAAZ,OAAOG,UAAY,EAAAuB,yBAAyBvB,UAAY,EAAAuB,yBAAyBK,SAC5HhB,KAAKY,QAAU,CACXC,MAAOb,KAAKjD,MACZ6D,QAAS,GACTE,QAASd,KAAKjD,OAElBiD,KAAKD,SAAW,EAAAV,YAAYW,KAAKjD,QAQ7C,MAAMkE,EAEFtB,YAA4BC,EAAkCsB,GAAlC,KAAAtB,SAAAA,EAAkC,KAAAsB,MAAAA,EAK9DC,YAAYC,GAAwD,OAAOA,EAG3EC,YAAYD,GACR,OAAIA,EACOA,EAAQrB,SAASuB,KAAIzB,GAAQ,IAAIJ,EAAaO,KAAKJ,SAAUC,KAE7DG,KAAKkB,MAAMI,KAAIzB,GAAQ,IAAIJ,EAAaO,KAAKJ,SAAUC,MAQ1E,8BAEI,EAAAP,SAASiC,SAAQH,IAEb,EAAApF,OAAOwF,yBAAyBJ,EAAS,IAAIH,EAAiBG,EAAQK,WAAY,EAAAvC,UAAUkC,U,qFC/EpG,eAGA,IAAIM,EAAa,IAAIC,IAA0B,IAS/C,yBAA8BC,EAAwB7E,EAAe6B,GACjE,IAAIiD,EAyBJ,OAvBIH,EAAWI,IAAIlD,IAgBfiD,EAA6BH,EAAWK,IAAInD,GAC5CiD,EAAaG,WAhBbH,EAAe,EAAA7F,OAAOiG,mBAClB,UACAlF,EACA6E,EACA,CACIM,yBAAyB,EACzBC,eAAe,IAIvBN,EAAaO,QAAQC,KAgB7B,SAAuBzD,GACnB,MAAO,olBAsB2CA,oEAvClB0D,CAAc1D,GAE1C8C,EAAWa,IAAI3D,EAAKiD,IAOxBA,EAAaW,cAAa,KACtBd,EAAWe,OAAO7D,MAEfiD,I,QCtCXa,EAAOC,QAAUC,QAAQ,W,OCAzBF,EAAOC,QAAUC,QAAQ,UCCrBC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBnF,IAAjBoF,EACH,OAAOA,EAAaL,QAGrB,IAAID,EAASG,EAAyBE,GAAY,CAGjDJ,QAAS,IAOV,OAHAM,EAAoBF,GAAUL,EAAQA,EAAOC,QAASG,GAG/CJ,EAAOC,Q,uGCpBf,eACA,SAIA,oBAAyBO,GAExBxG,QAAQC,IAAI,kEAGZuG,EAAQC,cAAcvG,QAAQ,EAAAhB,cAG9B,IAAAwH,oBAGA,IAAIC,GAAc,IAAAC,sBAClBJ,EAAQC,cAAcvG,QAAQyG,IAI/B,2B","sources":["webpack://markdowntools/./src/CommandProvider.ts","webpack://markdowntools/./src/ItemProvider.ts","webpack://markdowntools/./src/TreeViewProvider.ts","webpack://markdowntools/./src/WebView.ts","webpack://markdowntools/external commonjs \"vscode\"","webpack://markdowntools/external node-commonjs \"path\"","webpack://markdowntools/webpack/bootstrap","webpack://markdowntools/./src/extension.ts"],"sourcesContent":["// 本文件存储插件中的命令操作\r\nimport { isNumber } from \"util\";\r\nimport * as vscode from \"vscode\";\r\nimport { createWebView } from \"./WebView\";\r\n\r\nlet commandList: vscode.Disposable[] = [];\r\n\r\n/**\r\n * 获取当前光标选中的行、列\r\n * @returns [开始行, 结束行, 开始列, 结束列]\r\n */\r\nfunction getTextEditorPosition(): number[] {\r\n\tlet st_line: number = <number>(vscode.window.activeTextEditor?.selection.start.line);\r\n\tlet st_character: number = <number>(vscode.window.activeTextEditor?.selection.start.character);\r\n\tlet ed_line: number = <number>(vscode.window.activeTextEditor?.selection.end.line);\r\n\tlet ed_character: number = <number>(vscode.window.activeTextEditor?.selection.end.character);\r\n\r\n\tconsole.log(\"添加文字-start\", st_line, st_character);\r\n\tconsole.log(\"添加文字-end\", ed_line, ed_character);\r\n\r\n\treturn [st_line, ed_line, st_character, ed_character];\r\n}\r\n\r\n// add_both_fixed\r\ncommandList.push(\r\n\t// 添加在选中文字的两边，光标位置不动\r\n\tvscode.commands.registerCommand(\"add_both_fixed\", (label, ...content) => {\r\n\t\tvscode.window.activeTextEditor?.edit((editBuilder) => {\r\n\t\t\tlet [st_line, ed_line, st_character, ed_character] = getTextEditorPosition();\r\n\r\n\t\t\teditBuilder.insert(new vscode.Position(st_line, st_character), content[0]);\r\n\t\t\teditBuilder.insert(new vscode.Position(ed_line, ed_character), content[1]);\r\n\t\t});\r\n\t})\r\n);\r\n\r\n// add_front_fixed\r\ncommandList.push(\r\n\t// 添加该行的前面，光标位置不动\r\n\tvscode.commands.registerCommand(\"add_front_fixed\", (label, content) => {\r\n\t\tvscode.window.activeTextEditor?.edit((editBuilder) => {\r\n\t\t\tlet [st_line, ...rest] = getTextEditorPosition();\r\n\r\n\t\t\teditBuilder.insert(new vscode.Position(st_line, 0), content);\r\n\t\t});\r\n\t})\r\n);\r\n\r\n// add_cur_fixed\r\ncommandList.push(\r\n\t// 添加在当前位置，光标位置不动\r\n\tvscode.commands.registerCommand(\"add_cur_fixed\", (label, content) => {\r\n\t\tvscode.window.activeTextEditor?.edit((editBuilder) => {\r\n\t\t\tlet [st_line, , st_character,] = getTextEditorPosition();\r\n\r\n\t\t\teditBuilder.insert(new vscode.Position(st_line, st_character), content);\r\n\t\t});\r\n\t})\r\n);\r\n\r\n// add_nxt_fixed\r\ncommandList.push(\r\n\t// 添加下一行开头，光标位置不动\r\n\tvscode.commands.registerCommand(\"add_nxt_fixed\", (label, content) => {\r\n\t\tvscode.window.activeTextEditor?.edit((editBuilder) => {\r\n\t\t\tlet [st_line, ...rest] = getTextEditorPosition();\r\n\r\n\t\t\teditBuilder.insert(new vscode.Position(st_line + 1, 0), content);\r\n\t\t});\r\n\t})\r\n);\r\n\r\n// add_image\r\ncommandList.push(\r\n\t// 添加图片\r\n\tvscode.commands.registerCommand(\"add_image\", (label, content) => {\r\n\t\tvscode.window.showOpenDialog({\r\n\t\t\tcanSelectFiles: true,\r\n\t\t\tcanSelectMany: false,\r\n\t\t\tcanSelectFolders: false\r\n\t\t}).then(res => {\r\n\t\t\tif (res != undefined && res.length != 0) {\r\n\t\t\t\tlet uri = res[0].path;\r\n\t\t\t\turi = uri.substring(1, uri.length);\r\n\t\t\t\tvscode.window.activeTextEditor?.edit((editBuilder) => {\r\n\t\t\t\t\tlet [st_line, ...rest] = getTextEditorPosition();\r\n\r\n\t\t\t\t\teditBuilder.insert(new vscode.Position(st_line + 1, 0), \"![title](\" + uri + \")\");\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n);\r\n\r\n// add_table\r\ncommandList.push(\r\n\t// 添加表格\r\n\tvscode.commands.registerCommand(\"add_table\", (label, content) => {\r\n\t\tlet row = 2; // 行数\r\n\t\tlet col = 2; // 列数\r\n\t\tlet align = 0; // 0:居中,1:居左,2:居右\r\n\t\tvscode.window.showInputBox({\r\n\t\t\tplaceHolder: '请输入表格的行数,默认为2'\r\n\t\t}).then(res => {\r\n\t\t\tif (res == undefined) throw \"no input\";\r\n\t\t\telse {\r\n\t\t\t\trow = isNaN(Number(res)) || res == \"\" ? row : Number(res);\r\n\t\t\t\treturn vscode.window.showInputBox({\r\n\t\t\t\t\tplaceHolder: '请输入表格的列数,默认为2'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}).then(res => {\r\n\t\t\tif (res == undefined) throw \"no input\";\r\n\t\t\telse {\r\n\t\t\t\tcol = isNaN(Number(res)) || res == \"\" ? col : Number(res);\r\n\t\t\t\treturn vscode.window.showInputBox({\r\n\t\t\t\t\tplaceHolder: '请输入表格对齐方式',\r\n\t\t\t\t\tprompt: '0:居中对齐(默认),1:左对齐,2:右对齐'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}).then(res => {\r\n\t\t\talign = isNaN(Number(res)) ? align : Number(res);\r\n\t\t\t// 检查行列必须大于0\r\n\t\t\tif (row <= 0 || col <= 0 || align < 0 || align > 2) throw \"input error\";\r\n\t\t\t// 构造插入的内容,一个格子4个空\r\n\t\t\tlet content: string = \"\";\r\n\t\t\t// 插入首行\r\n\t\t\tcontent += \"|\";\r\n\t\t\tfor (let i = 0; i < col; i++) {\r\n\t\t\t\tcontent += \"    |\";\r\n\t\t\t}\r\n\t\t\tcontent += \"\\n\";\r\n\t\t\t// 插入对齐行\r\n\t\t\tcontent += \"|\";\r\n\t\t\tlet alignStr: string = align == 0 ? \":--:\" : align == 1 ? \":---\" : \"---:\";\r\n\t\t\tfor (let i = 0; i < col; i++) {\r\n\t\t\t\tcontent += alignStr + \"|\";\r\n\t\t\t}\r\n\t\t\tcontent += \"\\n\";\r\n\t\t\t// 插入内容行\r\n\t\t\tfor (let i = 0; i < row - 1; i++) {\r\n\t\t\t\tcontent += \"|\";\r\n\t\t\t\tfor (let j = 0; j < col; j++) {\r\n\t\t\t\t\tcontent += \"    |\";\r\n\t\t\t\t}\r\n\t\t\t\tcontent += \"\\n\";\r\n\t\t\t}\r\n\t\t\t// 插入视图\r\n\t\t\tvscode.window.activeTextEditor?.edit((editBuilder) => {\r\n\t\t\t\tlet [st_line, ...rest] = getTextEditorPosition();\r\n\r\n\t\t\t\teditBuilder.insert(new vscode.Position(st_line + 1, 0), content);\r\n\t\t\t});\r\n\t\t})\r\n\t})\r\n);\r\n\r\nexport { commandList };\r\n\r\n/**\r\n * 网页跳转，内置浏览器\r\n * @param context \r\n */\r\nexport function initWebViewCommand(): vscode.Disposable[] {\r\n\tlet commandList: vscode.Disposable[] = [];\r\n\tcommandList.push(vscode.commands.registerCommand(\"nav_web\", (label, url) => {\r\n\t\tconst webView = createWebView(vscode.ViewColumn.Active, label, url);\r\n\t\tcommandList.push(webView);\r\n\t}))\r\n\treturn commandList;\r\n}\r\n","// 本文件保存所有需要插入的组件信息\r\n\r\n// key为视图id\r\n// 每一项元组代表\r\n// [label, CState, icon, description, command, args]\r\n\r\n// 定义树视图中每一个子项是否存在子项，并定义其折叠状态\r\nexport enum CState {\r\n    Collapsed, // 折叠状态\r\n    Expanded, // 展开状态,注意无限展开\r\n    None // 无子项\r\n}\r\n\r\n// 一级\r\nexport const ALL_ITEMS = {\r\n    \"v-common\": [\r\n        [\"一级标题\", CState.None, \"h1\", \"#\", \"add_front_fixed\", \"# \"],\r\n        [\"二级标题\", CState.None, \"h2\", \"##\", \"add_front_fixed\", \"## \"],\r\n        [\"三级标题\", CState.None, \"h3\", \"###\", \"add_front_fixed\", \"### \"],\r\n        [\"粗体\", CState.None, \"B\", \"** **\", \"add_both_fixed\", \"**\", \"**\"],\r\n        [\"斜体\", CState.None, \"I\", \"* *\", \"add_both_fixed\", \"*\", \"*\"],\r\n        [\"有序列表\", CState.None, \"youxu\", \"1. \", \"add_front_fixed\", \"1. \"],\r\n        [\"无序列表\", CState.None, \"wuxu\", \"- \", \"add_front_fixed\", \"- \"],\r\n        [\"待办\", CState.None, \"todo\", \"- [ ] \", \"add_front_fixed\", \"- [ ] \"],\r\n        [\"超链接\", CState.None, \"link\", \"[ ]( )\", \"add_both_fixed\", \"[\", \"](uri)\"]\r\n    ],\r\n    \"v-insert\": [\r\n        [\"表格\", CState.None, \"table\", \"| |:--:| |\", \"add_table\", \"| |:--:| |\"],\r\n        [\"代码\", CState.None, \"code\", \"``` ```\", \"add_nxt_fixed\", \"\\n```\\n\\n```\"],\r\n        [\"引用\", CState.None, \"ref\", \"> \", \"add_front_fixed\", \"> \"],\r\n        [\"链接引用\", CState.None, \"linkref\", \"[ ]: \", \"add_both_fixed\", \"[\", \"]:uri\"],\r\n        [\"脚注\", CState.None, \"foot\", \"[^ ]: \", \"add_both_fixed\", \"[^\", \"]:description\"],\r\n        [\"公式\", CState.None, \"_math\", \"$$ $$\", \"add_both_fixed\", \"\\n$$\\n\\n$$\\n\"],\r\n        [\"内联公式\", CState.None, \"math\", \"$ $\", \"add_cur_fixed\", \"$ $\"],\r\n        [\"目录\", CState.None, \"toc\", \"[TOC]\", \"add_front_fixed\", \"[TOC]\\n\\n\"],\r\n        [\"图片\", CState.None, \"image\", \"![ ]( )\", \"add_image\", \"![title](uri)\"],\r\n        [\"分割线\", CState.None, \"divider\", \"> \", \"add_nxt_fixed\", \"\\n-----\\n\\n\"],\r\n    ],\r\n    \"v-math\": [\r\n        [\"在线公式设计\", CState.None, \"\", \"www.latexlive.com\", \"nav_web\", \"https://www.latexlive.com\"],\r\n        [\"常用符号\", CState.Collapsed, \"\", \"\"],\r\n        [\"希腊字母\", CState.Collapsed, \"\", \"\"],\r\n        [\"运算符\", CState.Collapsed, \"\", \"\"],\r\n    ],\r\n    \"v-emoji\": [\r\n        [\"在线表情选择\", CState.None, \"\", \"www.webfx.com/tools/emoji-cheat-sheet\", \"nav_web\", \"https://www.webfx.com/tools/emoji-cheat-sheet\"],\r\n        [\"人物\", CState.Collapsed, \"\", \"\"],\r\n        [\"自然\", CState.Collapsed, \"\", \"\"],\r\n        [\"地点\", CState.Collapsed, \"\", \"\"],\r\n        [\"符号\", CState.Collapsed, \"\", \"\"]\r\n    ]\r\n};\r\n\r\n// 二级\r\nexport const ALL_ITEMS_2 = {\r\n    \"常用符号\": [\r\n        [\"乘法\", CState.None, \"1-1\", \"\\\\times\", \"add_cur_fixed\", \"\\\\times \"],\r\n        [\"除法\", CState.None, \"1-2\", \"\\\\div\", \"add_cur_fixed\", \"\\\\div \"],\r\n        [\"正负号\", CState.None, \"1-3\", \"\\\\pm\", \"add_cur_fixed\", \"\\\\pm \"],\r\n        [\"负正号\", CState.None, \"1-4\", \"\\\\mp\", \"add_cur_fixed\", \"\\\\mp \"],\r\n        [\"交集\", CState.None, \"1-5\", \"\\\\cup\", \"add_cur_fixed\", \"\\\\cup \"],\r\n        [\"并集\", CState.None, \"1-6\", \"\\\\div\", \"add_cur_fixed\", \"\\\\cap \"],\r\n        [\"大于等于\", CState.None, \"1-7\", \"\\\\ge\", \"add_cur_fixed\", \"\\\\ge \"],\r\n        [\"小于等于\", CState.None, \"1-8\", \"\\\\le\", \"add_cur_fixed\", \"\\\\le \"],\r\n        [\"属于\", CState.None, \"1-9\", \"\\\\in\", \"add_cur_fixed\", \"\\\\in \"],\r\n        [\"所有\", CState.None, \"1-10\", \"\\\\forall\", \"add_cur_fixed\", \"\\\\forall \"],\r\n        [\"存在\", CState.None, \"1-11\", \"\\\\exists\", \"add_cur_fixed\", \"\\\\exists \"]\r\n    ],\r\n    \"希腊字母\": [\r\n        [\"α\", CState.None, \"\", \"\\\\alpha\", \"add_cur_fixed\", \"\\\\alpha \"],\r\n        [\"β\", CState.None, \"\", \"\\\\beta\", \"add_cur_fixed\", \"\\\\beta \"],\r\n        [\"γ\", CState.None, \"\", \"\\\\gamma\", \"add_cur_fixed\", \"\\\\gamma \"],\r\n        [\"δ\", CState.None, \"\", \"\\\\delta\", \"add_cur_fixed\", \"\\\\delta \"],\r\n        [\"ε\", CState.None, \"\", \"\\\\epsilon\", \"add_cur_fixed\", \"\\\\epsilon \"],\r\n        [\"ζ\", CState.None, \"\", \"\\\\zeta\", \"add_cur_fixed\", \"\\\\zeta \"],\r\n        [\"η\", CState.None, \"\", \"\\\\eta\", \"add_cur_fixed\", \"\\\\eta \"],\r\n        [\"θ\", CState.None, \"\", \"\\\\theta\", \"add_cur_fixed\", \"\\\\theta \"],\r\n        [\"λ\", CState.None, \"\", \"\\\\lambda\", \"add_cur_fixed\", \"\\\\lambda \"],\r\n        [\"μ\", CState.None, \"\", \"\\\\mu\", \"add_cur_fixed\", \"\\\\mu \"],\r\n        [\"π\", CState.None, \"\", \"\\\\pi\", \"add_cur_fixed\", \"\\\\pi \"],\r\n        [\"ρ\", CState.None, \"\", \"\\\\rho\", \"add_cur_fixed\", \"\\\\rho \"],\r\n        [\"σ\", CState.None, \"\", \"\\\\sigma\", \"add_cur_fixed\", \"\\\\sigma \"],\r\n        [\"τ\", CState.None, \"\", \"\\\\tau\", \"add_cur_fixed\", \"\\\\tau \"],\r\n        [\"φ\", CState.None, \"\", \"\\\\varphi\", \"add_cur_fixed\", \"\\\\varphi \"],\r\n        [\"ψ\", CState.None, \"\", \"\\\\psi\", \"add_cur_fixed\", \"\\\\psi \"],\r\n        [\"ω\", CState.None, \"\", \"\\\\omega\", \"add_cur_fixed\", \"\\\\omega \"]\r\n    ],\r\n    \"运算符\": [\r\n        [\"分数\", CState.None, \"2-1\", \"\\\\frac{a}{b}\", \"add_cur_fixed\", \"\\\\frac{}{} \"],\r\n        [\"微分\", CState.None, \"2-2\", \"\\\\mathrm{d}t\", \"add_cur_fixed\", \"\\\\mathrm{d}t \"],\r\n        [\"偏微分\", CState.None, \"2-3\", \"\\\\partial t\", \"add_cur_fixed\", \"\\\\partial t \"],\r\n        [\"Nabla算子\", CState.None, \"2-4\", \"\\\\nabla \\\\psi\", \"add_cur_fixed\", \"\\\\nabla \\\\psi \"],\r\n        [\"根号\", CState.None, \"2-5\", \"\\\\sqrt[]{x}\", \"add_cur_fixed\", \"\\\\sqrt[]{} \"],\r\n        [\"积分\", CState.None, \"2-6\", \"\\\\int_{a}^{b}\", \"add_cur_fixed\", \"\\\\int_{}^{} \"],\r\n        [\"二重积分\", CState.None, \"2-7\", \"\\\\iint_{a}^{b}\", \"add_cur_fixed\", \"\\\\iint_{}^{} \"],\r\n        [\"求和\", CState.None, \"2-8\", \"\\\\sum_{a}^{b}\", \"add_cur_fixed\", \"\\\\sum_{}^{} \"],\r\n        [\"求积\", CState.None, \"2-9\", \"\\\\prod_{a}^{b}\", \"add_cur_fixed\", \"\\\\prod_{}^{} \"],\r\n        [\"矩阵\", CState.None, \"2-10\", \"\\\\begin{bmatrix}a&b\\\\\\\\c&d\\\\end{bmatrix}\", \"add_cur_fixed\", \"\\n\\\\begin{bmatrix}\\n  &  \\\\\\\\\\n  &  \\n\\\\end{bmatrix}\\n\"],\r\n        [\"行列式\", CState.None, \"2-11\", \"\\\\begin{vmatrix}a&b\\\\\\\\c&d\\\\end{vmatrix}\", \"add_cur_fixed\", \"\\n\\\\begin{vmatrix}\\n  &  \\\\\\\\\\n  &  \\n\\\\end{vmatrix}\\n\"],\r\n        [\"分段函数\", CState.None, \"2-12\", \"\\\\begin{cases}...\\\\\\\\...\\\\end{cases}\", \"add_cur_fixed\", \"\\\\begin{cases}\\n  \\\\\\\\\\n  \\n\\\\end{cases}\"]\r\n    ],\r\n    \"人物\": [\r\n        [\"😁\", CState.None, \"\", \":smile:\", \"add_cur_fixed\", \":smile: \"],\r\n        [\"😆\", CState.None, \"\", \":laughing:\", \"add_cur_fixed\", \":laughing: \"],\r\n        [\"😭\", CState.None, \"\", \":sob:\", \"add_cur_fixed\", \":sob: \"],\r\n        [\"😪\", CState.None, \"\", \":sleepy:\", \"add_cur_fixed\", \":sleepy: \"],\r\n        [\"😡\", CState.None, \"\", \":rage:\", \"add_cur_fixed\", \":rage: \"],\r\n        [\"👍\", CState.None, \"\", \":+1:\", \"add_cur_fixed\", \":+1: \"],\r\n        [\"👎\", CState.None, \"\", \":-1:\", \"add_cur_fixed\", \":-1: \"],\r\n        [\"💪\", CState.None, \"\", \":muscle:\", \"add_cur_fixed\", \":muscle: \"]\r\n    ],\r\n    \"自然\": [\r\n        [\"☀\", CState.None, \"\", \":sunny:\", \"add_cur_fixed\", \":sunny: \"],\r\n        [\"☁\", CState.None, \"\", \":cloud:\", \"add_cur_fixed\", \":cloud: \"],\r\n        [\"🌧\", CState.None, \"\", \":umbrella:\", \"add_cur_fixed\", \":umbrella: \"],\r\n        [\"🌨\", CState.None, \"\", \":snowflake:\", \"add_cur_fixed\", \":snowflake: \"],\r\n        [\"⚡\", CState.None, \"\", \":zap:\", \"add_cur_fixed\", \":zap: \"],\r\n        [\"🐶\", CState.None, \"\", \":dog:\", \"add_cur_fixed\", \":dog: \"],\r\n        [\"🐱\", CState.None, \"\", \":cat:\", \"add_cur_fixed\", \":cat: \"],\r\n        [\"🐸\", CState.None, \"\", \":frog:\", \"add_cur_fixed\", \":frog: \"],\r\n        [\"🐷\", CState.None, \"\", \":pig:\", \"add_cur_fixed\", \":pig: \"]\r\n    ],\r\n    \"地点\": [\r\n        [\"🏘\", CState.None, \"\", \":house:\", \"add_cur_fixed\", \":house: \"],\r\n        [\"🏥\", CState.None, \"\", \":hospital:\", \"add_cur_fixed\", \":hospital: \"],\r\n        [\"💒\", CState.None, \"\", \":school:\", \"add_cur_fixed\", \":school: \"],\r\n        [\"🏙\", CState.None, \"\", \":office:\", \"add_cur_fixed\", \":office: \"],\r\n        [\"🕍\", CState.None, \"\", \":church:\", \"add_cur_fixed\", \":church: \"]\r\n    ],\r\n    \"符号\": [\r\n        [\"✔\", CState.None, \"\", \":heavy_check_mark:\", \"add_cur_fixed\", \":heavy_check_mark: \"],\r\n        [\"❌\", CState.None, \"\", \":x:\", \"add_cur_fixed\", \":x: \"],\r\n        [\"⭕\", CState.None, \"\", \":o:\", \"add_cur_fixed\", \":o: \"],\r\n        [\"™\", CState.None, \"\", \":tm:\", \"add_cur_fixed\", \":tm: \"],\r\n        [\"❤\", CState.None, \"\", \":heart:\", \"add_cur_fixed\", \":heart: \"]\r\n    ]\r\n}\r\n\r\n// export const ALL_KEYS = Object.keys(ALL_ITEMS).map(item => <keyof typeof ALL_ITEMS>item);\r\nexport const ALL_KEYS = <(keyof typeof ALL_ITEMS)[]>Object.keys(ALL_ITEMS);","// 本文件确定侧边视图容器的显示\r\nimport { TreeItem, TreeItemCollapsibleState, TreeDataProvider, Uri, window, Event, ProviderResult } from 'vscode';\r\nimport { join } from 'path';\r\nimport { CState, ALL_ITEMS, ALL_KEYS, ALL_ITEMS_2 } from './ItemProvider';\r\n\r\n/**\r\n * 单项节点的TreeItem类\r\n */\r\nclass TreeItemNode extends TreeItem {\r\n\r\n    public children: (string | CState)[][] = [];\r\n\r\n    constructor(category: string, item: (string | CState)[]) {\r\n        super(<string>item[0]);\r\n\r\n        // 共同属性\r\n        this.label = <string>item[0];\r\n        this.description = <string>item[3];\r\n        this.iconPath = <string>item[2] == \"\" ? undefined :{\r\n            light: Uri.file(join(__filename, '..', '..', 'dist', \"assets\", category, <string>item[2] + \"-light.svg\")),\r\n            dark: Uri.file(join(__filename, '..', '..', 'dist', \"assets\", category, <string>item[2] + \"-dark.svg\"))\r\n        };\r\n\r\n        // 判断是否存在子项目\r\n        if (<CState>item[1] == CState.None) {\r\n            // 不存在子项目\r\n            // demo: [\"一级标题\", CState.None, \"1.svg\", \"#\", \"add_front_fixed\", \"# \"]\r\n            let args: (string | CState)[];\r\n            [, , , , , ...args] = item;\r\n            this.collapsibleState = TreeItemCollapsibleState.None;\r\n            this.command = {\r\n                title: this.label,\r\n                command: <string>item[4],\r\n                tooltip: this.label, // 鼠标覆盖时的提示框\r\n                arguments: [this.label, ...args as string[]]\r\n            };\r\n        } else {\r\n            // 存在子项目\r\n            // demo: [\"粗体\", \"1.svg\", \"**content**\", CState.Collapsed]\r\n            this.collapsibleState = <CState>item[1] == CState.Collapsed ? TreeItemCollapsibleState.Collapsed : TreeItemCollapsibleState.Expanded;\r\n            this.command = {\r\n                title: this.label,\r\n                command: '',\r\n                tooltip: this.label\r\n            };\r\n            this.children = ALL_ITEMS_2[this.label as keyof typeof ALL_ITEMS_2];\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 用于注册的树视图TreeDataProvider类\r\n */\r\nclass TreeViewProvider implements TreeDataProvider<TreeItemNode>{\r\n\r\n    constructor(public readonly category: string, public readonly ITEMS: (string | CState)[][]) { }\r\n\r\n    onDidChangeTreeData?: Event<TreeItemNode | null | undefined> | undefined;\r\n\r\n    // 获取树视图中的每一项 item,所以要返回 element\r\n    getTreeItem(element: TreeItemNode): TreeItem | Thenable<TreeItem> { return element; }\r\n\r\n    // 给每一项都创建一个 TreeItemNode\r\n    getChildren(element?: TreeItemNode | undefined): ProviderResult<TreeItemNode[]> {\r\n        if (element) {\r\n            return element.children.map(item => new TreeItemNode(this.category, item as (string | CState)[]))\r\n        } else {\r\n            return this.ITEMS.map(item => new TreeItemNode(this.category, item as (string | CState)[]));\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 初始化并注册树视图\r\n */\r\nexport function initTreeViewItem(): void {\r\n    // 实例化 TreeViewProvider\r\n    ALL_KEYS.forEach(element => {\r\n        // registerTreeDataProvider：注册树视图\r\n        window.registerTreeDataProvider(element, new TreeViewProvider(element.toString(), ALL_ITEMS[element]));\r\n    });\r\n}","import { ExtensionContext, ViewColumn, WebviewPanel, window } from 'vscode';\r\n\r\n// 存储url和WebviewPanel的键值对\r\nvar webViewMap = new Map<string, WebviewPanel>([]);\r\n\r\n/**\r\n * 创建一个网页面板\r\n * @param viewColumn \r\n * @param label 标题\r\n * @param url 链接\r\n * @returns WebviewPanel\r\n */\r\nexport function createWebView(viewColumn: ViewColumn, label: string, url: string): WebviewPanel{\r\n    let webViewPanel: WebviewPanel;\r\n    // 判断是否已经存在该网页面板\r\n    if(!webViewMap.has(url)){\r\n        webViewPanel = window.createWebviewPanel(\r\n            'webView',\r\n            label,\r\n            viewColumn,\r\n            {\r\n                retainContextWhenHidden: true,  // 是否保持webview面板的内容,即使面板不再可见\r\n                enableScripts: true             // html页是否可以使用Scripts\r\n            }\r\n        )\r\n        // 面板嵌入html\r\n        webViewPanel.webview.html = getIframeHtml(url);\r\n        // 添加进webViewMap\r\n        webViewMap.set(url, webViewPanel);\r\n    }else{\r\n        // 获取该webViewPanel并显示\r\n        webViewPanel = <WebviewPanel>webViewMap.get(url);\r\n        webViewPanel.reveal();\r\n    }\r\n    // onDidDispose: 关闭该面板时\r\n    webViewPanel.onDidDispose(() => {\r\n        webViewMap.delete(url);\r\n    });\r\n    return webViewPanel;\r\n}\r\n\r\n// 这个方法没什么了，就是一个 最简单的嵌入 iframe 的 html 页面\r\nfunction getIframeHtml(url: string): string {\r\n    return `\r\n    <!DOCTYPE html>\r\n    <html lang=\"en\">\r\n        <head>\r\n        <meta charset=\"utf-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n        <style>\r\n            html,\r\n            body {\r\n                margin: 0 !important;\r\n                padding: 0 !important;\r\n                width: 100%;\r\n                height: 100%;\r\n            }\r\n            .iframeDiv {\r\n                width: 100%;\r\n                height: 100%;\r\n            }\r\n        </style>\r\n        </head>\r\n\r\n        <body>\r\n        <iframe id='iframe1' class=\"iframeDiv\" src=\"${url}\" scrolling=\"auto\"></iframe>\r\n        </body>\r\n    </html>\r\n    `;\r\n}","module.exports = require(\"vscode\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import * as vscode from 'vscode';\nimport { initTreeViewItem } from './TreeViewProvider';\nimport { commandList, initWebViewCommand} from './CommandProvider';\n\n// this method is called when your extension is activated\n// your extension is activated the very first time the command is executed\nexport function activate(context: vscode.ExtensionContext) {\n\t// This line of code will only be executed once when your extension is activated\n\tconsole.log('Congratulations, your extension \"MarkdownTools\" is now active!');\n\n\t// 注册命令列表\n\tcontext.subscriptions.push(...commandList);\n\n\t// 初始化树视图\n\tinitTreeViewItem();\n\n\t// 初始化网页\n\tlet webViewList = initWebViewCommand();\n\tcontext.subscriptions.push(...webViewList);\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() {}\n"],"names":["commandList","getTextEditorPosition","st_line","vscode","window","activeTextEditor","selection","start","line","st_character","character","ed_line","end","ed_character","console","log","push","commands","registerCommand","label","content","edit","editBuilder","insert","Position","rest","showOpenDialog","canSelectFiles","canSelectMany","canSelectFolders","then","res","undefined","length","uri","path","substring","row","col","align","showInputBox","placeHolder","isNaN","Number","prompt","i","alignStr","j","url","webView","createWebView","ViewColumn","Active","CState","ALL_ITEMS","None","Collapsed","ALL_ITEMS_2","ALL_KEYS","Object","keys","TreeItemNode","TreeItem","constructor","category","item","super","children","this","description","iconPath","light","Uri","file","join","__filename","dark","args","collapsibleState","TreeItemCollapsibleState","command","title","tooltip","arguments","Expanded","TreeViewProvider","ITEMS","getTreeItem","element","getChildren","map","forEach","registerTreeDataProvider","toString","webViewMap","Map","viewColumn","webViewPanel","has","get","reveal","createWebviewPanel","retainContextWhenHidden","enableScripts","webview","html","getIframeHtml","set","onDidDispose","delete","module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","context","subscriptions","initTreeViewItem","webViewList","initWebViewCommand"],"sourceRoot":""}